# ì˜ì–´ í•™ìŠµ í”Œë«í¼ (English Education Platform)

êµ¬ë…í˜• ì˜ì–´ ì›ì„œ ì½ê¸° í”Œë«í¼. Storytel ìŠ¤íƒ€ì¼ì˜ ì´ë¶ ë¦¬ë”ì™€ ì˜¤ë””ì˜¤ë¶, í€´ì¦ˆë¡œ ì˜ì–´ ì‹¤ë ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

### ì‚¬ìš©ì ê¸°ëŠ¥
- âœ… **íšŒì›ê°€ì… & ë¡œê·¸ì¸** (JWT ì¸ì¦)
- âœ… **êµ¬ë… ì‹œìŠ¤í…œ** (ë¬´ë£Œ ì²´í—˜, ì›”ê°„, ì—°ê°„ í”Œëœ)
- âœ… **ì‹¤ì œ ê²°ì œ** (Stripe í†µí•©)
- âœ… **ì˜ì–´ì±… ì½ê¸°** (ì´ë¶ ë¦¬ë”)
- âœ… **ì˜¤ë””ì˜¤ë¶** (ìŒì„± ì¬ìƒ)
- âœ… **í€´ì¦ˆ** (ì´í•´ë„ í…ŒìŠ¤íŠ¸)
- âœ… **ë‹¨ì–´ì¥** (ë¶ë§ˆí¬ ê¸°ëŠ¥)
- âœ… **í”Œë˜ì‹œì¹´ë“œ** (ë³µìŠµ ì‹œìŠ¤í…œ)
- âœ… **í•™ìŠµ ì§„ë„ ì¶”ì **
- âœ… **í•™ìŠµ í†µê³„ & ë¶„ì„**

### ê´€ë¦¬ì ê¸°ëŠ¥
- âœ… **ì‚¬ìš©ì ê´€ë¦¬**
- âœ… **ì½˜í…ì¸  ê´€ë¦¬** (ì±…, ì±•í„°, ì˜¤ë””ì˜¤, í€´ì¦ˆ)
- âœ… **ë¶„ì„ ëŒ€ì‹œë³´ë“œ**
- âœ… **êµ¬ë… í˜„í™© ëª¨ë‹ˆí„°ë§**

### ë³´ì•ˆ & í”„ë¡œë•ì…˜ ì¤€ë¹„
- âœ… **SQL Injection ë°©ì§€** (Parameterized queries)
- âœ… **XSS ë°©ì§€** (HTML ì‚´ê· í™”)
- âœ… **Rate Limiting** (DDoS ë°©ì§€)
- âœ… **Error Boundary** (React ì—ëŸ¬ ë³µêµ¬)
- âœ… **API ìë™ ì¬ì‹œë„** (ë„¤íŠ¸ì›Œí¬ ì•ˆì •ì„±)
- âœ… **ì˜¤í”„ë¼ì¸ ê°ì§€**
- âœ… **ì—ëŸ¬ ë¡œê¹… ì‹œìŠ¤í…œ**
- âœ… **SEO ìµœì í™”**

## ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **React 18** + **TypeScript**
- **Vite** (ë¹Œë“œ ë„êµ¬)
- **React Router** (ë¼ìš°íŒ…)
- **React Query** (ì„œë²„ ìƒíƒœ ê´€ë¦¬)
- **Zustand** (í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬)
- **Tailwind CSS** (ìŠ¤íƒ€ì¼ë§)
- **React Helmet Async** (SEO)
- **Framer Motion** (ì• ë‹ˆë©”ì´ì…˜)

### Backend
- **Node.js** + **Express**
- **PostgreSQL** (ë°ì´í„°ë² ì´ìŠ¤)
- **JWT** (ì¸ì¦)
- **Stripe** (ê²°ì œ)
- **Nodemailer** (ì´ë©”ì¼)
- **Helmet** (ë³´ì•ˆ í—¤ë”)
- **Express Rate Limit** (Rate limiting)
- **bcrypt** (ë¹„ë°€ë²ˆí˜¸ í•´ì‹±)

### DevOps
- **Docker** + **Docker Compose** (ì»¨í…Œì´ë„ˆí™”)
- **PM2** (í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬)
- **Nginx** (ì›¹ ì„œë²„)

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
education-platform-2025/
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ web/                  # Frontend (React + Vite)
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/   # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”œâ”€â”€ pages/        # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”œâ”€â”€ lib/          # ìœ í‹¸ë¦¬í‹°
â”‚       â”‚   â””â”€â”€ store/        # ìƒíƒœ ê´€ë¦¬
â”‚       â””â”€â”€ public/           # ì •ì  íŒŒì¼
â”œâ”€â”€ backend/                  # Backend (Node.js + Express)
â”‚   â”œâ”€â”€ routes/              # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ middleware/          # ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ lib/                 # ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ uploads/             # ì—…ë¡œë“œ íŒŒì¼
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ api-client/          # API í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â””â”€â”€ shared/              # ê³µìœ  íƒ€ì…/ìœ í‹¸
â”œâ”€â”€ database/
â”‚   â””â”€â”€ migrations/          # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”œâ”€â”€ scripts/                 # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ DEPLOYMENT.md            # ë°°í¬ ê°€ì´ë“œ
â””â”€â”€ README.md               # ì´ íŒŒì¼
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Node.js 16 ì´ìƒ
- PostgreSQL 12 ì´ìƒ
- npm ë˜ëŠ” yarn

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone <repository-url>
cd education-platform-2025
```

### 2. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```bash
# PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
createdb education_platform

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
cd database/migrations
psql -U postgres -d education_platform -f 001_init_schema.sql
psql -U postgres -d education_platform -f 002_performance_indexes.sql
psql -U postgres -d education_platform -f 003_add_password_reset_fields.sql
psql -U postgres -d education_platform -f 004_add_email_verification.sql
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# Backend í™˜ê²½ ë³€ìˆ˜
cp backend/.env.example backend/.env
# backend/.env íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ ì‹¤ì œ ê°’ ì…ë ¥

# Frontend í™˜ê²½ ë³€ìˆ˜
cp apps/web/.env.example apps/web/.env
# apps/web/.env íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ ì‹¤ì œ ê°’ ì…ë ¥
```

### 4. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
# API Client ë¹Œë“œ
cd packages/api-client
npm install
npm run build

# Backend
cd ../../backend
npm install

# Frontend
cd ../apps/web
npm install
```

### 5. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
# Backend (í„°ë¯¸ë„ 1)
cd backend
npm run dev

# Frontend (í„°ë¯¸ë„ 2)
cd apps/web
npm run dev
```

Frontend: http://localhost:3000
Backend: http://localhost:3001

### ğŸ³ Dockerë¡œ ì‹œì‘í•˜ê¸° (ëŒ€ì•ˆ)

Docker Composeë¥¼ ì‚¬ìš©í•˜ë©´ ê°„ë‹¨í•˜ê²Œ ì „ì²´ ìŠ¤íƒì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Docker 20.10 ì´ìƒ
- Docker Compose 2.0 ì´ìƒ

#### 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# Backend í™˜ê²½ ë³€ìˆ˜
cp backend/.env.example backend/.env
# backend/.env íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ ì‹¤ì œ ê°’ ì…ë ¥

# Frontend í™˜ê²½ ë³€ìˆ˜ (ì„ íƒì )
cp apps/web/.env.example apps/web/.env
```

#### 2. Docker Compose ì‹¤í–‰
```bash
# ë°±ê·¸ë¼ìš´ë“œì—ì„œ ëª¨ë“  ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f

# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸ë§Œ í™•ì¸
docker-compose logs -f backend
docker-compose logs -f frontend
```

#### 3. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
```bash
# DB ì»¨í…Œì´ë„ˆì— ì ‘ì†í•˜ì—¬ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
docker-compose exec db psql -U postgres -d education_platform -f /docker-entrypoint-initdb.d/001_init_schema.sql
docker-compose exec db psql -U postgres -d education_platform -f /docker-entrypoint-initdb.d/002_performance_indexes.sql
docker-compose exec db psql -U postgres -d education_platform -f /docker-entrypoint-initdb.d/003_add_password_reset_fields.sql
docker-compose exec db psql -U postgres -d education_platform -f /docker-entrypoint-initdb.d/004_add_email_verification.sql

# ë˜ëŠ” í•œë²ˆì— ì‹¤í–‰
for file in database/migrations/*.sql; do
  docker-compose exec -T db psql -U postgres -d education_platform < "$file"
done
```

#### 4. ë°ëª¨ ë°ì´í„° ì¶”ê°€ (ì„ íƒì )
```bash
docker-compose exec -T db psql -U postgres -d education_platform < database/seed.sql
```

#### 5. ì„œë¹„ìŠ¤ ì ‘ì†
- Frontend: http://localhost:3000
- Backend API: http://localhost:3001
- PostgreSQL: localhost:5432

#### Docker ìœ ìš©í•œ ëª…ë ¹ì–´
```bash
# ëª¨ë“  ì„œë¹„ìŠ¤ ì¤‘ì§€
docker-compose down

# ë³¼ë¥¨ê¹Œì§€ ì‚­ì œ (ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”)
docker-compose down -v

# ì„œë¹„ìŠ¤ ì¬ì‹œì‘
docker-compose restart backend

# ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ì ‘ì†
docker-compose exec backend sh
docker-compose exec frontend sh
docker-compose exec db psql -U postgres -d education_platform

# ì´ë¯¸ì§€ ë‹¤ì‹œ ë¹Œë“œ
docker-compose build --no-cache

# íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ì‹œì‘
docker-compose up -d db backend
```

#### Docker êµ¬ì¡°
- **db**: PostgreSQL 15 (Alpine)
- **backend**: Node.js 20 (Alpine) + Express
- **frontend**: Nginx (Alpine) + ë¹Œë“œëœ React ì•±
- **ë„¤íŠ¸ì›Œí¬**: app-network (bridge)
- **ë³¼ë¥¨**: postgres_data (ë°ì´í„° ì˜ì†ì„±)

## ğŸ”§ í™˜ê²½ ë³€ìˆ˜

### Backend (.env)
```env
NODE_ENV=development
PORT=3001
DATABASE_URL=postgresql://user:password@localhost:5432/education_platform
JWT_SECRET=your-secret-key
STRIPE_SECRET_KEY=sk_test_...
EMAIL_HOST=smtp.gmail.com
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
# ... ë” ë§ì€ ì„¤ì •ì€ backend/.env.example ì°¸ì¡°
```

### Frontend (.env)
```env
VITE_API_URL=http://localhost:3001
VITE_SITE_URL=http://localhost:3000
```

## ğŸ“ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤í¬ë¦½íŠ¸

### Backend
```bash
npm run dev          # ê°œë°œ ì„œë²„ (nodemon)
npm start           # í”„ë¡œë•ì…˜ ì„œë²„
npm run db:migrate  # DB ë§ˆì´ê·¸ë ˆì´ì…˜
npm run check:env   # í™˜ê²½ ë³€ìˆ˜ ê²€ì¦
```

### Frontend
```bash
npm run dev      # ê°œë°œ ì„œë²„
npm run build    # í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run preview  # ë¹Œë“œ ë¯¸ë¦¬ë³´ê¸°
npm run lint     # ESLint ì‹¤í–‰
```

## ğŸ¨ ì£¼ìš” í˜ì´ì§€

- `/` - í™ˆí˜ì´ì§€
- `/books` - ì±… ëª©ë¡
- `/books/:id` - ì±… ìƒì„¸
- `/reader/:chapterId` - ì±•í„° ì½ê¸°
- `/dashboard` - ëŒ€ì‹œë³´ë“œ
- `/subscription` - êµ¬ë… ê´€ë¦¬
- `/admin` - ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

## ğŸ” ì¸ì¦ & ê¶Œí•œ

### ì—­í•  (Roles)
- **student** - ì¼ë°˜ ì‚¬ìš©ì (ê¸°ë³¸)
- **teacher** - êµì‚¬ (ì½˜í…ì¸  ìƒì„± ê¶Œí•œ)
- **admin** - ê´€ë¦¬ì (ì „ì²´ ê¶Œí•œ)

### ë³´í˜¸ëœ ë¼ìš°íŠ¸
- ëŒ€ë¶€ë¶„ì˜ í•™ìŠµ ê¸°ëŠ¥ì€ ë¡œê·¸ì¸ í•„ìš”
- ê´€ë¦¬ì ê¸°ëŠ¥ì€ admin ì—­í•  í•„ìš”
- ì¼ë¶€ ì½˜í…ì¸ ëŠ” êµ¬ë… í•„ìš”

## ğŸ’³ ê²°ì œ ì‹œìŠ¤í…œ

### Stripe í†µí•©
- Checkout Session (ì¹´ë“œ ê²°ì œ)
- Webhook ì²˜ë¦¬ (ìë™ êµ¬ë… ì—…ë°ì´íŠ¸)
- ê²°ì œ ë‚´ì—­ ì¡°íšŒ

### êµ¬ë… í”Œëœ
1. **ë¬´ë£Œ ì²´í—˜** (0ì›) - ì œí•œëœ ì½˜í…ì¸ 
2. **ì›”ê°„ í”Œëœ** (9,900ì›/ì›”)
3. **ì—°ê°„ í”Œëœ** (99,000ì›/ë…„)

## ğŸ“§ ì´ë©”ì¼ ì‹œìŠ¤í…œ

- íšŒì›ê°€ì… í™˜ì˜ ì´ë©”ì¼
- ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
- ì´ë©”ì¼ ì¸ì¦ (ì„ íƒì )
- êµ¬ë… ì‹œì‘/ë§Œë£Œ ì•Œë¦¼
- ê²°ì œ ì‹¤íŒ¨ ì•Œë¦¼

## ğŸ”’ ë³´ì•ˆ

- **SQL Injection ë°©ì§€**: Parameterized queries
- **XSS ë°©ì§€**: HTML ì‚´ê· í™”
- **CSRF ë°©ì§€**: JWT í† í°
- **Rate Limiting**: ì—”ë“œí¬ì¸íŠ¸ë³„ ìš”ì²­ ì œí•œ
- **Password Hashing**: bcrypt
- **Helmet**: ë³´ì•ˆ í—¤ë”
- **CORS**: Origin ì œí•œ

## ğŸ“Š ëª¨ë‹ˆí„°ë§ & ë¡œê¹…

### ë¡œê·¸ ì‹œìŠ¤í…œ
- Console + File ë¡œê¹…
- ë¡œê·¸ ë ˆë²¨: ERROR, WARN, INFO, DEBUG
- ìë™ ë¡œê·¸ íšŒì „ (30ì¼)
- ë¡œê·¸ ìœ„ì¹˜: `backend/logs/`

### Health Check
```bash
curl http://localhost:3001/api/health
```

## ğŸš€ ë°°í¬

ìƒì„¸í•œ ë°°í¬ ê°€ì´ë“œëŠ” [DEPLOYMENT.md](./DEPLOYMENT.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### ë¹ ë¥¸ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] `npm run check:env` ì‹¤í–‰
- [ ] Frontend ë¹Œë“œ
- [ ] Backend PM2ë¡œ ì‹¤í–‰
- [ ] Nginx ì„¤ì •
- [ ] SSL ì¸ì¦ì„œ ì„¤ì¹˜
- [ ] Stripe Webhook ì„¤ì •

## ğŸ§ª í…ŒìŠ¤íŠ¸

```bash
# Backend í…ŒìŠ¤íŠ¸ (ì¶”í›„ ì¶”ê°€ ì˜ˆì •)
cd backend
npm test

# Frontend í…ŒìŠ¤íŠ¸ (ì¶”í›„ ì¶”ê°€ ì˜ˆì •)
cd apps/web
npm test
```

## ğŸ“– API ë¬¸ì„œ

API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡:
- `GET /api/health` - Health check
- `POST /api/auth/register` - íšŒì›ê°€ì…
- `POST /api/auth/login` - ë¡œê·¸ì¸
- `GET /api/books` - ì±… ëª©ë¡
- `GET /api/users/me` - ë‚´ ì •ë³´
- ... (ë” ë§ì€ ì—”ë“œí¬ì¸íŠ¸ëŠ” ì½”ë“œ ì°¸ì¡°)

## ğŸ¤ ê¸°ì—¬

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

## ğŸ“ ì—°ë½ì²˜

- í”„ë¡œì íŠ¸ ë§í¬: [GitHub Repository]
- ì´ìŠˆ ì œë³´: [GitHub Issues]

## ğŸ™ ê°ì‚¬ì˜ ë§

- [React](https://reactjs.org/)
- [Express](https://expressjs.com/)
- [Stripe](https://stripe.com/)
- [Tailwind CSS](https://tailwindcss.com/)

---

**Made with â¤ï¸ for English learners**
