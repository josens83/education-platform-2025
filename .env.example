# ==================================
# ì˜ì–´ êµìœ¡ í”Œë«í¼ í™˜ê²½ ë³€ìˆ˜
# ==================================
# ì´ íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ .env íŒŒì¼ì„ ìƒì„±í•˜ê³  ì‹¤ì œ ê°’ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”.
# cp .env.example .env

# ==================================
# ğŸ”§ ì„œë²„ ì„¤ì •
# ==================================
NODE_ENV=development
PORT=3001

# ==================================
# ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
# ==================================
DATABASE_URL=postgresql://postgres:your_secure_password_here@localhost:5432/education_platform

# ê°œë³„ ì„¤ì • (ì„ íƒì )
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_NAME=education_platform
DB_MAX_POOL=20
DB_MIN_POOL=5

# ==================================
# ğŸ” ì¸ì¦ ë° ë³´ì•ˆ
# ==================================
# JWT ì‹œí¬ë¦¿ (ìµœì†Œ 32ì ì´ìƒì˜ ëœë¤ ë¬¸ìì—´ ê¶Œì¥)
# ìƒì„± ë°©ë²•: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_jwt_secret_key_here_change_this_minimum_32_characters
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_here
JWT_REFRESH_EXPIRES_IN=30d

# ì„¸ì…˜ ì‹œí¬ë¦¿
SESSION_SECRET=your_session_secret_here_minimum_32_characters

# ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • í† í° ë§Œë£Œ ì‹œê°„ (ë°€ë¦¬ì´ˆ)
PASSWORD_RESET_EXPIRES=3600000  # 1ì‹œê°„

# ==================================
# ğŸŒ CORS ë° URL ì„¤ì •
# ==================================
FRONTEND_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:3000

# í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì‹¤ì œ ë„ë©”ì¸ìœ¼ë¡œ ë³€ê²½
# FRONTEND_URL=https://yourdomain.com
# CORS_ORIGIN=https://yourdomain.com

# ==================================
# ğŸ’³ ê²°ì œ ì‹œìŠ¤í…œ (Stripe)
# ==================================
# Stripe í…ŒìŠ¤íŠ¸ í‚¤ (ê°œë°œ í™˜ê²½)
STRIPE_SECRET_KEY=sk_test_your_stripe_test_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_test_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe í”„ë¡œë•ì…˜ í‚¤ (í”„ë¡œë•ì…˜ í™˜ê²½)
# STRIPE_SECRET_KEY=sk_live_your_stripe_live_secret_key
# STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_live_publishable_key
# STRIPE_WEBHOOK_SECRET=whsec_your_production_webhook_secret

# Stripe ê°€ê²© ID (êµ¬ë… í”Œëœ)
STRIPE_PRICE_ID_MONTHLY=price_your_monthly_plan_id
STRIPE_PRICE_ID_YEARLY=price_your_yearly_plan_id

# ==================================
# ğŸ“§ ì´ë©”ì¼ ì„¤ì • (Nodemailer)
# ==================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password  # Gmail ì•± ë¹„ë°€ë²ˆí˜¸

# ë°œì‹ ì ì •ë³´
EMAIL_FROM_NAME=English Education Platform
EMAIL_FROM_ADDRESS=noreply@yourdomain.com

# ê´€ë¦¬ì ì´ë©”ì¼ (ì•Œë¦¼ ìˆ˜ì‹ ìš©)
ADMIN_EMAILS=admin@yourdomain.com,tech@yourdomain.com

# ==================================
# ğŸ”‘ ì†Œì…œ ë¡œê·¸ì¸ (OAuth)
# ==================================

# Google OAuth 2.0
# Google Cloud Consoleì—ì„œ ë°œê¸‰: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:3001/api/auth/google/callback

# Kakao OAuth
# Kakao Developersì—ì„œ ë°œê¸‰: https://developers.kakao.com/
KAKAO_CLIENT_ID=your_kakao_rest_api_key
KAKAO_CLIENT_SECRET=your_kakao_client_secret
KAKAO_CALLBACK_URL=http://localhost:3001/api/auth/kakao/callback

# Naver OAuth (ì„ íƒì )
NAVER_CLIENT_ID=your_naver_client_id
NAVER_CLIENT_SECRET=your_naver_client_secret
NAVER_CALLBACK_URL=http://localhost:3001/api/auth/naver/callback

# ==================================
# ğŸ“ íŒŒì¼ ì—…ë¡œë“œ ì„¤ì •
# ==================================
UPLOAD_MAX_SIZE=10485760  # 10MB in bytes
UPLOAD_DIR=./uploads
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/webp,audio/mpeg,audio/mp3

# ==================================
# ğŸš¦ Rate Limiting (ì†ë„ ì œí•œ)
# ==================================
RATE_LIMIT_WINDOW_MS=900000  # 15ë¶„
RATE_LIMIT_MAX_REQUESTS=100  # 15ë¶„ë‹¹ ìµœëŒ€ ìš”ì²­ ìˆ˜

# ì—„ê²©í•œ ì œí•œ (ë¡œê·¸ì¸, íšŒì›ê°€ì… ë“±)
RATE_LIMIT_STRICT_MAX=5  # 15ë¶„ë‹¹ ìµœëŒ€ 5íšŒ

# ==================================
# ğŸ—„ï¸ ìºì‹± (Redis - ì„ íƒì )
# ==================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
ENABLE_REDIS=false  # Redis ì‚¬ìš© ì—¬ë¶€

# ==================================
# ğŸ“Š ë¡œê¹… ì„¤ì •
# ==================================
LOG_LEVEL=info  # debug, info, warn, error
LOG_FILE=./logs/app.log
ENABLE_FILE_LOGGING=true
LOG_MAX_SIZE=10m
LOG_MAX_FILES=30d

# ==================================
# ğŸ” ëª¨ë‹ˆí„°ë§ ë° ì—ëŸ¬ ì¶”ì 
# ==================================
# Sentry (ì—ëŸ¬ ì¶”ì )
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# New Relic (APM)
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=education-platform

# ==================================
# ğŸ¤– AI ë° ì™¸ë¶€ ì„œë¹„ìŠ¤
# ==================================
# OpenAI API (AI ì¶”ì²œ, ì±—ë´‡ ë“±)
OPENAI_API_KEY=sk-your_openai_api_key
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=1000

# ==================================
# ğŸ¯ ê¸°ëŠ¥ í”Œë˜ê·¸ (Feature Flags)
# ==================================
ENABLE_EMAIL_VERIFICATION=false
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_SOCIAL_LOGIN=true
ENABLE_AI_RECOMMENDATIONS=false
ENABLE_OFFLINE_MODE=true
ENABLE_PWA=true

# ==================================
# ğŸ§ª ê°œë°œ í™˜ê²½ ì„¤ì •
# ==================================
# ì´ˆê¸° ê´€ë¦¬ì ê³„ì • (ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©)
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=Admin123!@#
ADMIN_USERNAME=admin

# ë””ë²„ê·¸ ëª¨ë“œ
DEBUG_MODE=false
VERBOSE_LOGGING=false

# ==================================
# ğŸ³ Docker ì„¤ì •
# ==================================
DB_PASSWORD=postgres  # Docker Composeì—ì„œ ì‚¬ìš©í•˜ëŠ” DB ë¹„ë°€ë²ˆí˜¸
WEB_PORT=80

# ==================================
# ğŸ“± í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì • (Vite)
# ==================================
# apps/web/.env íŒŒì¼ì— ë³„ë„ë¡œ ì„¤ì •
VITE_API_URL=http://localhost:3001
VITE_SITE_URL=http://localhost:3000
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_test_publishable_key
VITE_GOOGLE_ANALYTICS_ID=UA-XXXXX-Y
VITE_ENABLE_ANALYTICS=false

# ==================================
# âš™ï¸ ê¸°íƒ€ ì„¤ì •
# ==================================
# íƒ€ì„ì¡´
TZ=Asia/Seoul

# ìµœëŒ€ ìš”ì²­ í¬ê¸°
MAX_REQUEST_SIZE=50mb

# Cookie ì„¤ì •
COOKIE_SECURE=false  # í”„ë¡œë•ì…˜ì—ì„œëŠ” true
COOKIE_SAME_SITE=lax
COOKIE_MAX_AGE=604800000  # 7ì¼

# ==================================
# ğŸ“ ì°¸ê³ ì‚¬í•­
# ==================================
# 1. .env íŒŒì¼ì€ ì ˆëŒ€ Gitì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”
# 2. í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ëª¨ë“  ì‹œí¬ë¦¿ì„ ê°•ë ¥í•œ ëœë¤ ê°’ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”
# 3. DATABASE_URL í˜•ì‹: postgresql://user:password@host:port/database
# 4. Gmail ì‚¬ìš© ì‹œ "ì•± ë¹„ë°€ë²ˆí˜¸"ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤
# 5. Stripe í‚¤ëŠ” í…ŒìŠ¤íŠ¸(sk_test_)ì™€ ë¼ì´ë¸Œ(sk_live_)ë¥¼ êµ¬ë¶„í•˜ì„¸ìš”
# 6. OAuth ì½œë°± URLì€ ì œê³µì—…ì²´ ì½˜ì†”ì— ë“±ë¡ë˜ì–´ì•¼ í•©ë‹ˆë‹¤
#
# í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ì‹¤í–‰:
#   cd backend && npm run check:env
#
# ì‹œí¬ë¦¿ ìƒì„± ë°©ë²•:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
